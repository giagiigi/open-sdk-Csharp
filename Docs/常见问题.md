## 常见问题

##### 1.消息推送失败原因及建议
a.日志记录错误码为`CODE: 200 `
原因：你的推送网址服务未正确返回成功标识{“code”:0,”msg”:”success”}。
建议：检查自身服务，可用 postman 模拟推送查看是否在5s内有成功响应。
b.日志记录错误码为`ERROR: java.net.SocketTimeoutException`
原因：有赞云推送服务与你的推送网址服务建立连接超时。
建议：检查自身服务的外网连通性，可以在外网 ping 你的推送网址服务查看连通性；检查你的推送网址服务与有赞的连通性，可以在你的推送网址服务端 ping youzan.com 查看连通性。
c.日志记录错误码为`ERROR: javax.net.ssl.SSLHandshakeException: General SSLEngine problem`
原因：你的推送网址服务自身对 https 支持有问题
建议：检查自身环境 https 相关配置，或者推送网址换为 http

[点此了解如何查看推送日志](https://www.youzanyun.com/docs/guide/push/712)

##### 2.何为授权?

商家购买了第三方应用的产品，第三方需要得到商家的店铺数据从而做后续服务，前提是商家同意将自己店铺的数据给到该第三方，这就是授权的过程。

一个商家可以同时授权多个第三方应用。 

##### 3.授权可以自动刷新吗？

当 access_token 过期时，开发者可以用 refresh_token 刷新得到新access_token（新的refresh_token也会同时下发）

##### 4.授权能否管理?
商家可以在"商家后台-营销-有赞API-三方授权管理"界面查看授权过的三方列表，并主动操作取消授权。

##### 5.什么是access_token?

商户授权后有赞云颁发的调用 API 凭证，应用获取到了access_token即意味着应用取得了商家的授权，可以替商家向有赞云请求店铺数据。

##### 6.使用接口怎么调用不到数据?

接口调用出错需要综合分析，请检查完整的调用参数、有赞云返回的信息，根据有赞返回错误代码，查找响应问题。

##### 7.接口是否有权限?

基础接口应用申请通过后即可获得，高级接口需在"开发者平台-能力申请"去申请开通。

##### 8.有赞云是轮询拉取还是主动推送?

有赞云支持轮询拉取和主动推送消息两种方式调用，当前主动的消息推送支持：订单、商品、积分、会员卡

##### 9.调用API的流量限制?

建议外部用有赞的push推送功能，减轻双方的服务器压力。如果采用轮询调用，每分钟流量阈值是3万次。

##### 10.什么是client_id和client_secret?

client_id是应用的唯一标识，平台通过client_id来鉴别应用的身份。client_secret是平台给应用分配的密钥，开发者需要妥善保存这个密钥，这个密钥用来保证应用来源的可靠性，防止被伪造。

client_id 和 client_secret 是开发者的应用发起有赞 Oauth 授权的凭证； 一个应用必须申请一份对应的client_id 和client_secret，才能发起 Oauth 授权请求； 一个开发者可以有多个应用。

##### 11.应用可以删除吗?

应用可以删除，可以在开发者后台编辑管理。

##### 12.什么是回调地址?

授权完成后回调的地址链接，用户在通过平台来访问您的应用的时候，平台会把相关的上下文参数和state通过这个回调地址传给您，如http://youzanyun.com/callback

##### 13.redirect_uri 及 callback 定义规则

redirect_uri 指的是应用发起请求时，所传的回调地址参数，在用户授权后应用会跳转至 redirect_uri； callback 指的是申请Oauth应用时提供的回调地址链接，或者网站接入时所验证的域名地址。

